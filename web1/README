NAC Web1 Interface


_____________________ NAC Web1 GUI: Installation notes _____________________
// Download the software to /opt/nac/web1 (unstable) or /opt/nac2.1/web1 (stable branch)
   They are probably there already from a tarball of SVN.

// Create a temporary directory, writeable by the Apache user
  cd /opt/nac2.1
  mkdir tmp
  chown wwwrun tmp
  // note : on certain suse version, the apache user is daemon
  	
// Install libraries for graphics : you need
// - graphviz for the switch view
  yast -i graphviz 

// - jpgraph for statistics [also requires freetype & ms core fonts

  yast -i freetype

  Launch YaST online update - select the option "manually select patches"
  Select the "fetchmscorefonts.sh"
  Perform the update

  cd /usr/local/share
  wget http://members.chello.se/jpgraph/jpgdownloads/jpgraph-X.X.XX.tar.gz 
  tar zxvf jpgraph-X.X.XX.tar.gz
  ln -s jpgraph-X.X.XX jpgraph

// in that case, you'll need to set $jpgraph_path = '/usr/local/share/jpgraph/src' in the config file
  
// Install Apache (via Yast)
	chkconfig apache2 on
	rcapache2 start

// Then configure apache, by creating /etc/apache2/conf.d/vmps.conf:
  Alias /vmps /opt/nac/web1
  Alias /nac /opt/nac/web1
        <Directory /opt/nac/web1/>
          Options none
          Order deny,allow
          #allow from 127.0.0.1
          #allow from 10.85.
          allow from all
        </Directory>
        
  [Restrict access to certain networks, if needed, as above]       

// restart apache
    rcpache2 restart        
  
// MySQL: grant read-only access for the Web GUI
// (change PASSWORD1 as needed)
  grant SELECT on inventory.* to readonly@localhost IDENTIFIED by 'PASSWORD1';
  SET PASSWORD FOR readonly@localhost = OLD_PASSWORD('PASSWORD1');
  
	
// Adapt configuration file:
	vi /opt/nac/web1/config.inc    (Enter PASSWORD1 as above)
	(if this file does not exist, copy the config.inc.template)


_____ USAGE ___________

- point the webbrowser at http://SERVER/nac


_______ TROUBLE SHOOTING __________
  check syslog
  enable "$debug_flag1" in various script, check syslog again.
  

To do:
- dependancies
- access control on the Apache server (IP address or Username), if needed
- fix graph generator

